nma_minelaying_category = {
  nothing_wrong_with_our_bloody_ships = {

    icon = generic_naval

    cost = 0
    fire_only_once = yes
    days_remove = 0

    ai_will_do = {
      factor = 1
    }

    visible = {
      has_dlc = "Man the Guns"
      NOT = {
        has_tech = basic_naval_mines
        has_tech = submarine_mine_laying
      }
      has_game_rule = { rule = NMA_MINELAYING_OPTIONS option = NMA_ENABLE_MINES }
      OR = {
        original_tag = SOV
        original_tag = GER
        original_tag = ENG
        original_tag = AST
        original_tag = BRA
        original_tag = CAN
        original_tag = CHI
        original_tag = FRA
        original_tag = ITA
        original_tag = JAP
        original_tag = MEX
        original_tag = NOR
        original_tag = NZL
        original_tag = ROM
        original_tag = SIA
        original_tag = SPR
        original_tag = USA
      }
    }

    complete_effect = {
      if = {
        limit = { original_tag = SOV }

        set_technology = {
          basic_naval_mines = 1
          submarine_mine_laying = 1
        }

        create_equipment_variant = {
      		name = "Series II Leninets"				# represents Leninets series II, XI
      		type = ship_hull_submarine_2
      		name_group = SOV_SS_LENINETS
      		parent_version = 0
      		modules = {
      			fixed_ship_torpedo_slot = ship_torpedo_sub_1
      			fixed_ship_engine_slot = sub_ship_engine_1
      			rear_1_custom_slot = ship_mine_layer_sub
      		}
      	}
        create_equipment_variant = {
      		name = "Bug Class"					# minelayer
      		type = ship_hull_light_1
      		name_group = SOV_MINELAYERS_HISTORICAL
      		parent_version = 0
      		modules = {
      			fixed_ship_battery_slot = ship_light_battery_1
      			fixed_ship_anti_air_slot = empty
      			fixed_ship_fire_control_system_slot = ship_fire_control_system_0
      			fixed_ship_radar_slot = empty
      			fixed_ship_engine_slot = light_ship_engine_2
      			fixed_ship_torpedo_slot = empty
      			mid_1_custom_slot = ship_mine_layer_1
      			rear_1_custom_slot = ship_mine_layer_1
      		}
      	}
      	# Light Cruisers #
      	create_equipment_variant = {
      		name = "Komintern Class"
      		type = ship_hull_cruiser_1
      		name_group = SOV_CL_HISTORICAL
      		parent_version = 0
      		modules = {
      			fixed_ship_battery_slot = ship_light_medium_battery_1
      			fixed_ship_anti_air_slot = empty
      			fixed_ship_fire_control_system_slot = ship_fire_control_system_0
      			fixed_ship_radar_slot = empty
      			fixed_ship_engine_slot = cruiser_ship_engine_1
      			mid_1_custom_slot = ship_light_medium_battery_1
      			mid_2_custom_slot = empty
      			rear_1_custom_slot = ship_mine_layer_1
      		}
      		obsolete = yes
      	}
      	create_equipment_variant = {
      		name = "Chervona Ukraina Class"
      		type = ship_hull_cruiser_1
      		name_group = SOV_CL_HISTORICAL
      		parent_version = 0
      		modules = {
      			fixed_ship_battery_slot = ship_light_medium_battery_1
      			fixed_ship_anti_air_slot = ship_anti_air_1
      			fixed_ship_fire_control_system_slot = ship_fire_control_system_0
      			fixed_ship_radar_slot = empty
      			fixed_ship_engine_slot = cruiser_ship_engine_1
      			mid_1_custom_slot = ship_light_medium_battery_1
      			mid_2_custom_slot = ship_torpedo_1
      			rear_1_custom_slot = ship_mine_layer_1
      		}
      	}
      	create_equipment_variant = {
      		name = "Marti Class"
      		type = ship_hull_cruiser_1				# minelayer
      		name_group = SOV_MINELAYERS_HISTORICAL
      		parent_version = 0
      		modules = {
      			fixed_ship_battery_slot = ship_light_medium_battery_1
      			fixed_ship_anti_air_slot = ship_anti_air_1
      			fixed_ship_fire_control_system_slot = ship_fire_control_system_0
      			fixed_ship_radar_slot = empty
      			fixed_ship_engine_slot = cruiser_ship_engine_1
      			mid_1_custom_slot = empty
      			mid_2_custom_slot = empty
      			rear_1_custom_slot = ship_mine_layer_1
      		}
      	}
        create_equipment_variant = {
    			name = "Series XIII Leninets"
    			type = ship_hull_submarine_2
    			name_group = SOV_SS_LENINETS
    			parent_version = 0
    			modules = {
    				fixed_ship_torpedo_slot = ship_torpedo_sub_2
    				fixed_ship_engine_slot = sub_ship_engine_2
    				rear_1_custom_slot = ship_mine_layer_sub
    			}
    		}
    		create_equipment_variant = {
    			name = "Series XIV K-Class"
    			type = ship_hull_submarine_3
    			name_group = SOV_SS_SHCHUKA
    			parent_version = 0
    			modules = {
    				fixed_ship_torpedo_slot = ship_torpedo_sub_2
    				fixed_ship_engine_slot = sub_ship_engine_3
    				front_1_custom_slot = ship_mine_layer_sub
    				mid_1_custom_slot = empty
    				rear_1_custom_slot = ship_torpedo_sub_2
    			}
    		}

        hidden_effect = { load_oob = SOV_1936_minelayers }
      }

    }

  }
}
