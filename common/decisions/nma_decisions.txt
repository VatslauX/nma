nma_annex_subjects = {

  ROOT_annex_FROM = {
    icon = generic_operation

    fire_only_once = yes

    cost = 0

    visible = {
      can_annex_minors = yes
    }

    ai_will_do = {
     factor = 0
    }

    available = {
			country_exists = FROM
			FROM = {
				is_ai = yes
      }
      
      any_state = {
        is_core_of = FROM

        CONTROLLER = {
          NOT = {
            has_war_with = ROOT
          }
        }
      }
		}

    target_root_trigger = {
			original_tag = ROOT
		}

    target_trigger = {
      FROM = {
        is_subject_of = ROOT
        NOT = {
					original_tag = MAL
				}
      }
    }

    complete_effect = {
      nma_annex_country = yes
		}
  }

  ENG_annex_MAL = {

		icon = generic_operation

		fire_only_once = yes

    allowed = {
			original_tag = ENG
		}

		cost = 300

    visible = {
      has_game_rule = {
        rule = NMA_ANNEX_MALAYA_OPTIONS
        option = NMA_ENABLE_ANNEX_MALAYA
      }
    }

		available = {
			country_exists = MAL
			MAL = {
				is_ai = yes
      }
      
      any_state = {
        is_core_of = FROM

        CONTROLLER = {
          NOT = {
            has_war_with = ROOT
          }
        }
      }
		}

		target_root_trigger = {
			original_tag = ENG
    }
    
    targets = {
      MAL
    }

		target_trigger = {
			FROM = {
				original_tag = MAL
			}
		}

		complete_effect = {
      nma_annex_country = yes
		}

	}

  JAP_annex_SIA = {

		icon = generic_operation

		fire_only_once = yes

		cost = 0

    visible = {
      can_annex_minors = yes
      SIA = { is_ai = yes }
      country_exists = SIA
    }

		allowed = {
			original_tag = JAP
		}

		available = {
			NOT = {
				country_exists = CHI
      }
      
      any_state = {
        is_core_of = FROM

        CONTROLLER = {
          NOT = {
            has_war_with = ROOT
          }
        }
      }
		}

    target_root_trigger = {
			original_tag = JAP
    }
    
    targets = {
      SIA
    }

		target_trigger = {
			FROM = {
				original_tag = SIA
			}
		}

    complete_effect = {
			nma_annex_country = yes
		}

	}

  AST_annex_NZL = {
    icon = generic_operation

    fire_only_once = yes

    cost = 0

    visible = {
      can_annex_minors = yes
    }

    ai_will_do = {
     factor = 0
    }

    allowed = {
      original_tag = AST
    }

    available = {
      country_exists = AST
      has_country_flag = AST_permitted
      NZL = {
        is_ai = yes
      }

      any_state = {
        is_core_of = FROM

        CONTROLLER = {
          NOT = {
            has_war_with = ROOT
          }
        }
      }
    }

    target_root_trigger = {
      original_tag = AST
    }

    targets = {
      NZL
    }

    target_trigger = {
      FROM = {
        original_tag = NZL
      }
    }

    complete_effect = {
      nma_annex_country = yes
    }
  }
}
